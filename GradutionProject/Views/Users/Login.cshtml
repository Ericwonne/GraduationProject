
@{
    ViewBag.Title = "Login";
}
@* 此登录页面默认学生和教师的注册邮箱和密码均不同，所以没有设定区分学生登录和教师登录的checkbox *@
<h2>登录</h2>
<br />
<form role="form" action="LoginTypeCheck" method="post">
    <div class="form-group">
        <label class="control-label" for="inputEmail">电子邮箱</label>
        <div class="form-inline">
            <input type="email" class="form-control" id="inputEmail" name="inputEmail" placeholder="注册时填写的邮箱"><span id="span_email" style="margin-left:5px;color:red"></span>
        </div>
        <label class="control-label" for="inputPassword">密码</label>
        <div class="form-inline">
            <input type="password" class="form-control" id="inputPassword" name="inputPassword" placeholder=""><span id="span_pass" style="margin-left:5px;color:red"></span>
        </div>
    </div>
    <div class="checkbox">
        <label>
            <input name="remember" type="checkbox"> 记住我
        </label>
    </div>
    <button type="submit" class="btn btn-default" onclick="checkExist()">登录</button>
</form>
<br />
<p class="alert-link">没有账号？点击<a href="Register"><strong>注册</strong></a></p>
<script src="https://cdn.bootcss.com/jquery/3.1.1/jquery.js"></script>
<script>
    function checkExist() {
        //var formData = new FormData();
        //formData.append("inputEmail", document.getElementById("inputEmail"));
        //formData.append("inputPassword", document.getElementById("inputPassword"));
        $.ajax({
            type: "GET",
            url: "CheckExist",
            data: "email=" + document.getElementById("inputEmail").value + "&passwd=" + document.getElementById("inputPassword").value + "",
            contentType: false,
            processData: false,
            success: function (response) {
                if (response == "N") {
                    document.getElementById("span_email").innerText = "用户名不存在！";
                }
            },
            error: function (response) {
                console.log(response);
            }
        });
    }
</script>